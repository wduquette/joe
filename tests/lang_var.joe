// Tests the "var" statement
//
// Language tests should confine themselves to the basic test API.

function testDeclareOnly_normal() {
    var a;
    assertEQ(a, null);
}

function testDeclareOnly_wildcard() {
    var _;
    assertEQ(_, null);
}

function testDeclareAndInitialize_normal() {
    var a = 1;
    assertEQ(a, 1);
}

function testDeclareAndInitialize_wildcard() {
    var _ = 1;
    assertEQ(_, 1);
}

function testBind_simple() {
    var [a, b] = [1, 2];
    assertEQ(a, 1);
    assertEQ(b, 2);
}

function testBind_complex() {
    var a@[b, c] = [1, 2];
    assertEQ(a, [1, 2]);
    assertEQ(b, 1);
    assertEQ(c, 2);
}

function testBind_structureMismatch() {
    assertError(\-> { var [a, b] = [1]; },
        "'var' pattern failed to match target value.");
}
