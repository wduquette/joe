// type.joe.Error.joe
//
// Tests for the `Error` type

function testInitializer_simple() {
    var error = Error("Message");
    assertEQ(error.message(), "Message");
    assertEQ(error.type(), "JoeError");
    assertEmpty(error.traces());
    assertEQ(error.stackTrace(), error.message());
}

function testInitializer_withTraces() {
    var error = Error("Message", "A", "B");
    assertEQ(error.message(), "Message");
    assertEQ(error.type(), "JoeError");
    assertEQ(error.traces(), ["A", "B"]);
}

function testAddInfo() {
    var error = Error("Message");
    assertEmpty(error.traces());
    error.addInfo("A");
    assertEQ(error.traces(), ["A"]);
}
