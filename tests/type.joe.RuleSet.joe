// type.joe.RuleSet.joe
//
// This script tests the behavior of RuleSet objects once created.
// Errors found during creation are tested by lang_ruleset.joe.

function testToString() {
    var rules = ruleset {
        Ancestor(x, y) :- Parent(x, y);
    };
    assertEQ(rules.toString(), """
        ruleset {
            Ancestor(x, y) :- Parent(x, y);
        }
    """);
}

// RuleSet::isStratified() should always return true; unstratified
// rule sets are rejected on creation.
function testIsStratified_true() {
    var rules = ruleset {
        Ancestor(x, y) :- Parent(x, y);
        Ancestor(x, y) :- Parent(x, z), Ancestor(z, y);
    };
    assertT(rules.isStratified());
}
