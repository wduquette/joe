// lang_list.joe: tests List-specific syntax.

function testLiteral() {
    assertTrue([].isEmpty());

    var single = [#one];
    assertEquals(single.size(), 1);
    assertEquals(single.get(0), #one);

    var double = [#one, #two];
    assertEquals(double.size(), 2);
    assertEquals(double.get(0), #one);
    assertEquals(double.get(1), #two);

    // Trailing comma is allowed in non-empty lists.
    assertEquals([#one], [#one,]);
    assertEquals([#one, #two], [#one, #two,]);
}

function testIndexing_get() {
    var list = [#a, #b, #c];
    assertEquals(list[0], #a);
    assertEquals(list[1], #b);
    assertEquals(list[2], #c);

    assertError(\-> list["abc"],
        "Expected list index, got: String 'abc'.");
    assertError(\-> list[-1],
        "List index out of range [0, 2]: -1.");
    assertError(\-> list[3],
        "List index out of range [0, 2]: 3.");
}