# Joe User's Guide sources

This folder contains the `joe doc` source files for the Joe User's Guide, not 
including the JoeDoc comments in the Joe source.

- `joe/jug` -- the JUG source folder
- `joe/jug/src` -- JUG source files, mostly Markdown files.
- `joe/jug/mdbook` -- mdBook source, mostly generated by `joe doc`
- `joe/jug/build.sh` -- Documentation builder script
- `joe/jug/jug.sh` -- JUG builder script
- `joe/jug/javadoc.sh` -- Javadoc builder script
- `joe/jug/doc_config.joe` -- `joe doc` configuration
- `joe/docs` -- JUG destination folder

## Building Docs for Release

The Joe version number is included in `joe/jug/mdbook/book.toml`, in the 
JUG's title. Before releasing, be sure that the version number is correct; and
after releasing, be sure to bump the version number.

## Building the Docs

The `build.sh` script builds all Joe documentation

```shell
$ cd joe/jug/
$ ./build.sh
...
```

This includes the Joe javadoc and the Joe User's Guide, which includes
the Joe standard library API documentation.

## Build Details

The Joe User's Guide is produced using the following pipeline:

First, `joe doc` scans the relevant code files, and the Markdown input 
files in `joe/jug/src` and populates `joe/jug/mdbook/src`.

```shell
$ cd joe/jug/
$ joe doc
...
```

Next, [mdBook](https://rust-lang.github.io/mdBook/) produces the final
HTML document in `joe/docs`.  The main entry point is `joe/docs/index.html`.

```shell
$ cd joe/jug/mdbook
$ mdbook build
...
```

These two steps are combined by `jug.sh`:

```shell
$ cd joe/jug/
$ ./jug/sh
...
```

Finally, `javadoc.sh` executes the `javadoc` tool to produce the Joe javadoc
in `joe/docs/javadoc/`.

```shell
$ cd joe/jug
$ ./javadoc.sh
$ ...
```

The Javadoc is generated into the mdBook output folder, which is cleared by
the `mdbook` tool, and so `javadoc.sh` must be executed after `mdbook`.



