<!DOCTYPE HTML>
<html lang="en" class="light" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Datalog Basics - Joe v0.8.0 User&#x27;s Guide</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="shortcut icon" href="../favicon.png">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body class="sidebar-visible no-js">
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('light')
            html.classList.add(theme);
            var body = document.querySelector('body');
            body.classList.remove('no-js')
            body.classList.add('js');
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var body = document.querySelector('body');
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            body.classList.remove('sidebar-visible');
            body.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="../introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="../changes.html">Change Log</a></li><li class="chapter-item expanded affix "><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">The Joe Language</li><li class="chapter-item expanded "><a href="../language.html"><strong aria-hidden="true">1.</strong> The Joe Language</a></li><li class="chapter-item expanded "><a href="../types.html"><strong aria-hidden="true">2.</strong> Types and Values</a></li><li class="chapter-item expanded "><a href="../operators.html"><strong aria-hidden="true">3.</strong> Operators</a></li><li class="chapter-item expanded "><a href="../statements.html"><strong aria-hidden="true">4.</strong> Statements</a></li><li class="chapter-item expanded "><a href="../functions.html"><strong aria-hidden="true">5.</strong> Functions</a></li><li class="chapter-item expanded "><a href="../classes.html"><strong aria-hidden="true">6.</strong> Classes</a></li><li class="chapter-item expanded "><a href="../records.html"><strong aria-hidden="true">7.</strong> Records</a></li><li class="chapter-item expanded "><a href="../patterns.html"><strong aria-hidden="true">8.</strong> Pattern Matching</a></li><li class="chapter-item expanded "><a href="../introspection.html"><strong aria-hidden="true">9.</strong> Introspection</a></li><li class="chapter-item expanded affix "><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Embedding and Extending Joe</li><li class="chapter-item expanded "><a href="../embedding/embedding.html"><strong aria-hidden="true">10.</strong> Embedding Joe in Java</a></li><li class="chapter-item expanded "><a href="../extending/extending.html"><strong aria-hidden="true">11.</strong> Extending Joe in Java</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../extending/java_types.html"><strong aria-hidden="true">11.1.</strong> Joe and Java Data Types</a></li><li class="chapter-item "><a href="../extending/native_functions.html"><strong aria-hidden="true">11.2.</strong> Native Functions</a></li><li class="chapter-item "><a href="../extending/registered_types.html"><strong aria-hidden="true">11.3.</strong> Registered Types</a></li><li class="chapter-item "><a href="../extending/packages.html"><strong aria-hidden="true">11.4.</strong> Joe Packages</a></li><li class="chapter-item "><a href="../extending/native_records.html"><strong aria-hidden="true">11.5.</strong> Native Records</a></li><li class="chapter-item "><a href="../extending/native_classes.html"><strong aria-hidden="true">11.6.</strong> Native Classes</a></li></ol></li><li class="chapter-item expanded "><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Nero Datalog</li><li class="chapter-item expanded "><a href="../nero/nero.html"><strong aria-hidden="true">12.</strong> Nero Datalog</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item expanded "><a href="../nero/datalog_basics.html" class="active"><strong aria-hidden="true">12.1.</strong> Datalog Basics</a></li><li class="chapter-item "><a href="../nero/terms.html"><strong aria-hidden="true">12.2.</strong> Nero Terms</a></li><li class="chapter-item "><a href="../nero/negation.html"><strong aria-hidden="true">12.3.</strong> Negation</a></li><li class="chapter-item "><a href="../nero/constraints.html"><strong aria-hidden="true">12.4.</strong> Constraints</a></li><li class="chapter-item "><a href="../nero/named_fields.html"><strong aria-hidden="true">12.5.</strong> Named-Field Notation</a></li><li class="chapter-item "><a href="../nero/schema.html"><strong aria-hidden="true">12.6.</strong> Schema Declarations</a></li><li class="chapter-item "><a href="../nero/schema_maintenance.html"><strong aria-hidden="true">12.7.</strong> Schema Maintenance</a></li><li class="chapter-item "><a href="../nero/builtin_predicates.html"><strong aria-hidden="true">12.8.</strong> Built-in Predicates</a></li><li class="chapter-item "><a href="../nero/aggregation_functions.html"><strong aria-hidden="true">12.9.</strong> Aggregation Functions</a></li><li class="chapter-item "><a href="../nero/stratification.html"><strong aria-hidden="true">12.10.</strong> Stratification</a></li><li class="chapter-item "><a href="../nero/technical_details.html"><strong aria-hidden="true">12.11.</strong> Technical Details</a></li></ol></li><li class="chapter-item expanded "><a href="../nero/nero_data.html"><strong aria-hidden="true">13.</strong> Nero as a Data Format</a></li><li class="chapter-item expanded "><a href="../nero/nero_and_joe.html"><strong aria-hidden="true">14.</strong> Using Nero with Joe</a></li><li class="chapter-item expanded "><a href="../nero/nero_and_java.html"><strong aria-hidden="true">15.</strong> Using Nero with Java</a></li><li class="chapter-item expanded affix "><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Tools</li><li class="chapter-item expanded "><a href="../joe_app.html"><strong aria-hidden="true">16.</strong> The 'joe' Application</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../joe_version.html"><strong aria-hidden="true">16.1.</strong> 'joe version'</a></li><li class="chapter-item "><a href="../joe_run.html"><strong aria-hidden="true">16.2.</strong> 'joe run'</a></li><li class="chapter-item "><a href="../joe_repl.html"><strong aria-hidden="true">16.3.</strong> 'joe repl'</a></li><li class="chapter-item "><a href="../joe_test.html"><strong aria-hidden="true">16.4.</strong> 'joe test'</a></li><li class="chapter-item "><a href="../joe_doc.html"><strong aria-hidden="true">16.5.</strong> 'joe doc'</a></li><li class="chapter-item "><a href="../joe_dump.html"><strong aria-hidden="true">16.6.</strong> 'joe dump'</a></li><li class="chapter-item "><a href="../joe_win.html"><strong aria-hidden="true">16.7.</strong> 'joe win'</a></li></ol></li><li class="chapter-item expanded "><a href="../nero_app.html"><strong aria-hidden="true">17.</strong> The 'nero' Application</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../nero_version.html"><strong aria-hidden="true">17.1.</strong> 'nero version'</a></li><li class="chapter-item "><a href="../nero_run.html"><strong aria-hidden="true">17.2.</strong> 'nero run'</a></li></ol></li><li class="chapter-item expanded "><li class="spacer"></li><li class="chapter-item expanded affix "><li class="part-title">Library Reference</li><li class="chapter-item expanded "><a href="../library/index.html"><strong aria-hidden="true">18.</strong> Library API</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../library/pkg.joe.html"><strong aria-hidden="true">18.1.</strong> Joe Standard Library (joe)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../library/type.joe.AssertError.html"><strong aria-hidden="true">18.1.1.</strong> AssertError Type</a></li><li class="chapter-item "><a href="../library/type.joe.Boolean.html"><strong aria-hidden="true">18.1.2.</strong> Boolean Type</a></li><li class="chapter-item "><a href="../library/type.joe.CatchResult.html"><strong aria-hidden="true">18.1.3.</strong> CatchResult Type</a></li><li class="chapter-item "><a href="../library/type.joe.Error.html"><strong aria-hidden="true">18.1.4.</strong> Error Type</a></li><li class="chapter-item "><a href="../library/type.joe.Fact.html"><strong aria-hidden="true">18.1.5.</strong> Fact Type</a></li><li class="chapter-item "><a href="../library/type.joe.FactBase.html"><strong aria-hidden="true">18.1.6.</strong> FactBase Type</a></li><li class="chapter-item "><a href="../library/type.joe.Function.html"><strong aria-hidden="true">18.1.7.</strong> Function Type</a></li><li class="chapter-item "><a href="../library/type.joe.Joe.html"><strong aria-hidden="true">18.1.8.</strong> Joe Singleton</a></li><li class="chapter-item "><a href="../library/type.joe.Keyword.html"><strong aria-hidden="true">18.1.9.</strong> Keyword Type</a></li><li class="chapter-item "><a href="../library/type.joe.List.html"><strong aria-hidden="true">18.1.10.</strong> List Type</a></li><li class="chapter-item "><a href="../library/type.joe.Map.html"><strong aria-hidden="true">18.1.11.</strong> Map Type</a></li><li class="chapter-item "><a href="../library/type.joe.Number.html"><strong aria-hidden="true">18.1.12.</strong> Number Type</a></li><li class="chapter-item "><a href="../library/type.joe.Opaque.html"><strong aria-hidden="true">18.1.13.</strong> Opaque Type</a></li><li class="chapter-item "><a href="../library/type.joe.RuleSet.html"><strong aria-hidden="true">18.1.14.</strong> RuleSet Type</a></li><li class="chapter-item "><a href="../library/type.joe.Set.html"><strong aria-hidden="true">18.1.15.</strong> Set Type</a></li><li class="chapter-item "><a href="../library/type.joe.String.html"><strong aria-hidden="true">18.1.16.</strong> String Type</a></li><li class="chapter-item "><a href="../library/type.joe.TextBuilder.html"><strong aria-hidden="true">18.1.17.</strong> TextBuilder Type</a></li><li class="chapter-item "><a href="../library/type.joe.Type.html"><strong aria-hidden="true">18.1.18.</strong> Type Singleton</a></li></ol></li><li class="chapter-item "><a href="../library/pkg.joe.test.html"><strong aria-hidden="true">18.2.</strong> Joe Test Tool API (joe.test)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../library/type.joe.test.CatchChecker.html"><strong aria-hidden="true">18.2.1.</strong> CatchChecker Type</a></li><li class="chapter-item "><a href="../library/type.joe.test.JoeTest.html"><strong aria-hidden="true">18.2.2.</strong> JoeTest Type</a></li><li class="chapter-item "><a href="../library/type.joe.test.ValueChecker.html"><strong aria-hidden="true">18.2.3.</strong> ValueChecker Type</a></li></ol></li><li class="chapter-item "><a href="../library/pkg.joe.doc.html"><strong aria-hidden="true">18.3.</strong> JoeDoc Configuration API (joe.doc)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../library/type.joe.doc.DocConfig.html"><strong aria-hidden="true">18.3.1.</strong> DocConfig Type</a></li></ol></li><li class="chapter-item "><a href="../library/pkg.joe.console.html"><strong aria-hidden="true">18.4.</strong> Console API (joe.console)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../library/type.joe.console.Console.html"><strong aria-hidden="true">18.4.1.</strong> Console Type</a></li><li class="chapter-item "><a href="../library/type.joe.console.Path.html"><strong aria-hidden="true">18.4.2.</strong> Path Type</a></li></ol></li><li class="chapter-item "><a href="../library/pkg.joe.win.html"><strong aria-hidden="true">18.5.</strong> GUI API (joe.win)</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../library/type.joe.win.Control.html"><strong aria-hidden="true">18.5.1.</strong> Control Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Button.html"><strong aria-hidden="true">18.5.2.</strong> Button Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.GridPane.html"><strong aria-hidden="true">18.5.3.</strong> GridPane Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.HBox.html"><strong aria-hidden="true">18.5.4.</strong> HBox Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.HPos.html"><strong aria-hidden="true">18.5.5.</strong> HPos Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Insets.html"><strong aria-hidden="true">18.5.6.</strong> Insets Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Label.html"><strong aria-hidden="true">18.5.7.</strong> Label Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.ListView.html"><strong aria-hidden="true">18.5.8.</strong> ListView Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Menu.html"><strong aria-hidden="true">18.5.9.</strong> Menu Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.MenuBar.html"><strong aria-hidden="true">18.5.10.</strong> MenuBar Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.MenuItem.html"><strong aria-hidden="true">18.5.11.</strong> MenuItem Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Node.html"><strong aria-hidden="true">18.5.12.</strong> Node Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Orientation.html"><strong aria-hidden="true">18.5.13.</strong> Orientation Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Pane.html"><strong aria-hidden="true">18.5.14.</strong> Pane Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Pos.html"><strong aria-hidden="true">18.5.15.</strong> Pos Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Priority.html"><strong aria-hidden="true">18.5.16.</strong> Priority Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Region.html"><strong aria-hidden="true">18.5.17.</strong> Region Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Separator.html"><strong aria-hidden="true">18.5.18.</strong> Separator Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Side.html"><strong aria-hidden="true">18.5.19.</strong> Side Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.SplitPane.html"><strong aria-hidden="true">18.5.20.</strong> SplitPane Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.StackPane.html"><strong aria-hidden="true">18.5.21.</strong> StackPane Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Tab.html"><strong aria-hidden="true">18.5.22.</strong> Tab Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.TabPane.html"><strong aria-hidden="true">18.5.23.</strong> TabPane Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.VBox.html"><strong aria-hidden="true">18.5.24.</strong> VBox Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.VPos.html"><strong aria-hidden="true">18.5.25.</strong> VPos Type</a></li><li class="chapter-item "><a href="../library/type.joe.win.Win.html"><strong aria-hidden="true">18.5.26.</strong> Win Type</a></li></ol></li><li class="chapter-item "><a href="../library/index.html"><strong aria-hidden="true">18.6.</strong> Library API Index</a></li></ol></li><li class="chapter-item expanded "><li class="spacer"></li><li class="chapter-item expanded affix "><a href="../grammar.html">Appendix: Grammars</a></li><li class="chapter-item expanded affix "><a href="../vm.html">Appendix: Virtual Machine</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Joe v0.8.0 User&#x27;s Guide</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="datalog-basics"><a class="header" href="#datalog-basics">Datalog Basics</a></h1>
<p>This section explains the basics of Datalog terminology and the Datalog
programming model.</p>
<ul>
<li><a href="#simple-example">Simple Example</a></li>
<li><a href="#axioms-and-rules">Axioms and Rules</a></li>
<li><a href="#axioms-vs-facts">Axioms vs. Facts</a></li>
<li><a href="#atoms-and-terms">Atoms and Terms</a></li>
<li><a href="#variables-and-rule-execution">Variables and Rule Execution</a></li>
</ul>
<h2 id="simple-example"><a class="header" href="#simple-example">Simple Example</a></h2>
<p>The following is a simple Datalog programming for computing
ancestor/descendant relationships from parent/child relationships.</p>
<pre><code class="language-nero">Parent(#anne, #bert);                           // (1)
Parent(#bert, #clark);                          // (2)
Ancestor(x, y) :- Parent(x, y);                 // (3)
Ancestor(x, y) :- Parent(x, z), Ancestor(z, y); // (4)
</code></pre>
<p>Statements (1) and (2) are <em>axioms</em>; statements (3) and (4) are
<em>rules</em>.</p>
<p>When executed, this program infers the following facts from these
axioms and rules:</p>
<ul>
<li><code>Parent(#anne, #bert)</code> from (1)</li>
<li><code>Parent(#bert, #clark)</code> from (2)</li>
<li><code>Ancestor(#anne, #bert)</code> from (3)</li>
<li><code>Ancestor(#bert, #clark)</code> from (3)</li>
<li><code>Ancestor(#anne, #clark)</code> from (4)</li>
</ul>
<h2 id="axioms-and-rules"><a class="header" href="#axioms-and-rules">Axioms and Rules</a></h2>
<p>In the example,</p>
<pre><code class="language-nero">Parent(#anne, #bert);                           // (1)
Parent(#bert, #clark);                          // (2)
Ancestor(x, y) :- Parent(x, y);                 // (3)
Ancestor(x, y) :- Parent(x, z), Ancestor(z, y); // (4)
</code></pre>
<ul>
<li>
<p>(1) is an <em>axiom</em> asserting that <code>#anne</code> is the <code>Parent</code> of <code>#bert</code>.</p>
</li>
<li>
<p>(2) is an axiom asserting that <code>#bert</code> is the <code>Parent</code> of <code>#clark</code>.</p>
</li>
<li>
<p>(3) is a <em>rule</em> stating that <code>x</code> is an <code>Ancestor</code> of <code>y</code> if
<code>x</code> is a <code>Parent</code> of <code>y</code>.</p>
</li>
<li>
<p>(4) is a rule stating that <code>x</code> is an <code>Ancestor</code> of <code>y</code> if
<code>x</code> is a <code>Parent</code> of <code>z</code> and <code>z</code> is an <code>Ancestor</code> of <code>y</code>.</p>
</li>
</ul>
<h2 id="axioms-vs-facts"><a class="header" href="#axioms-vs-facts">Axioms vs. Facts</a></h2>
<p>An axiom is not a fact; it is a statement in a Nero program that unilaterally
asserts a fact, while a fact is a data record in the set of known facts or
in an external database.</p>
<p>A Nero program infers new facts from known facts via its rules, where
the set of known facts comes from the program's axioms, an external
source, or both.</p>
<h2 id="atoms-and-terms"><a class="header" href="#atoms-and-terms">Atoms and Terms</a></h2>
<p>Axioms and rules are made up of <em>atoms</em>, as shown in this diagram:</p>
<pre><code class="language-nero">Parent(#anne, #bert);
────────────────────
 ↑
Head atom
 
Ancestor(x, y) :- Parent(x, z), Ancestor(z, y);
──────────────    ────────────  ──────────────
 ↑                 ↑             ↑
Head atom         Body atom 1   Body atom 2
</code></pre>
<p>An atom consists of a <em>relation</em> and a parenthesized list of <em>terms</em>.</p>
<p>The relation, e.g., <code>Parent</code> is a name for the relation between the atom's
terms, e.g., <code>#anne</code> and <code>#bert</code> are related as parent and child.  A
relation is similar to the name of a table in an SQL database, where the
set of facts having that relation are like the rows of the table.</p>
<p>By convention, Nero relations begin with an uppercase letter.</p>
<p>Nero supports several <a href="terms.html">kinds of term</a>; this example includes
two of them.  <code>#anne</code>, <code>#bert</code>, and <code>#clark</code> are constant terms, and <code>x</code>,
<code>y</code>, and <code>z</code> are variable terms.</p>
<p><code>#anne</code>, <code>#bert</code>, and <code>#clark</code> are, in fact, Joe keywords; Joe numbers,
strings, booleans, and <code>null</code> can also be used as constants in Nero source.</p>
<h2 id="variables-and-rule-execution"><a class="header" href="#variables-and-rule-execution">Variables and Rule Execution</a></h2>
<p>Nero variables look like Joe variables, but are quite different.  Nero
works by matching a rule's body atoms against known facts, working from
left to right.  As it does so, it <em>binds</em> the variables from its body atoms
to the values in the matched facts.</p>
<ul>
<li>A variable is <em>bound</em> on first appearance in the rule's body, reading from
left to right.</li>
<li>On all subsequent appearances, the value in the matched fact must be equal
to the variable's bound value.</li>
<li>Then, the bound values are substituted into the rule's head atom to produce
a new fact.</li>
</ul>
<p>Consider our example:</p>
<pre><code class="language-nero">Parent(#anne, #bert);                           // (1)
Parent(#bert, #clark);                          // (2)
Ancestor(x, y) :- Parent(x, y);                 // (3)
Ancestor(x, y) :- Parent(x, z), Ancestor(z, y); // (4)
</code></pre>
<ul>
<li>Axioms (1) and (2) contain no variables, because there is no rule body
to bind them to values.</li>
<li>Rule (3) will match each <code>Parent</code> fact, binding <code>x</code> to the parent and <code>y</code>
to the child, and will produce an <code>Ancestor</code> fact for each match.</li>
<li>Rule (4) will match each<code>Parent</code> fact, binding <code>x</code> and <code>z</code>; and then will
match any <code>Ancestor</code> fact whose first term has the value of <code>z</code>, binding
<code>y</code> to the fact's second term and ultimately yielding a new <code>Ancestor</code> fact.</li>
</ul>
<h2 id="the-fixed-point-algorithm"><a class="header" href="#the-fixed-point-algorithm">The Fixed-Point Algorithm</a></h2>
<p>Nero is a declarative language; and as with any declarative language it's
essential to understand the underlying execution model.  Every imperative
language is more or less alike; every declarative language is distinct.</p>
<p>Datalog's execution model is straightforward.</p>
<ul>
<li>First, it infers a fact for each axiom.</li>
<li>Next, it repeatedly iterates over the set of rules, matching the rule
against the known facts and inferring new facts until no previously
unknown facts are added to the set of known facts.</li>
</ul>
<p>Most Datalog implementations, including Nero, are designed so that this
loop is guaranteed to terminate.  Some useful Datalog extensions break this
guarantee, but Nero does not support any of them.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../nero/nero.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next prefetch" href="../nero/terms.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../nero/nero.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next prefetch" href="../nero/terms.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
